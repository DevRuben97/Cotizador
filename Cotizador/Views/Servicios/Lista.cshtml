@model IEnumerable<Cotizador.Models.Servicios>

   <div class="container">
        <h1 class="text-center text-primary"><i class="fas fa-wrench"></i>Lista De Servicios</h1>
    </div>
    <div class="container-fluid">
        <a class="btn btn-primary" data-toggle="modal" data-target="#ModalServicios" data-placement="top" onclick="FormServicio('@Url.Action("Nuevo","Servicios")')"><i class="fas fa-plus"></i> Agregar Servicio</a>
    </div>
<br />
    <div class="container-fluid">
        <table class="table table-hover" id="Table">
            <thead>
                <tr>
                    <th>
                        Nombre
                    </th>
                    <th>
                        Descripcición
                    </th>
                    <th>
                        Costo
                    </th>
                    <th><strong>Acciones</strong></th>
                </tr>
            </thead>

        </table>

    </div>

<!-- Modal -->
<div class="modal fade" id="ModalServicios" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modaltitle"><i id="IconTitle" class="fas fa-wrench"></i> Modal title</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="CloseModal()">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" id="modalBody">
                <h1 class="text-center">Cargando...</h1>
            </div>
            <div class="modal-footer" id="PieModal">
                <button type="button" class="btn btn-secondary" data-dismiss="modal" onclick="CloseModal()" id="btnsecundary"><i class="fas fa-times"></i> Cancelar</button>
                <button type="button" class="btn btn-primary" id="btnprimary"><i class="fas fa-check"></i>Guardar Cambios</button>
            </div>
        </div>
    </div>
</div>

 @section Scripts{
     <script src="~/Scripts/MyScripts/Operations.js"></script>
    <script>
        $(document).ready(function () {
            $("#Table").DataTable({
                "language": {
                    "search": "Buscar",
                    "searchPlaceholder": "Buscar Por Nombre",
                    "lengthMenu": "Mostrando _MENU_ Por Pagina",
                    "zeroRecords": "No Se Encontraron Registros",
                    "infoEmpty": "No Hay Registros Para Mostrar",
                    "info": "Mostrando Pagina _PAGE_ De _PAGES_",


                },
                "processing": true,
                "serverSide": true,
                "ajax": {
                    "url": '@Url.Action("GetServices", "Servicios")' + "/",
                    "type": "POST",
                    "datatype": "json",
                },
                "info": true,
                "columns": [
                    { title: "Nombre", "data": "nombre" },
                    { title: "Descripcición", "data": "Descripcion" },
                    { title: "Costo", "data": "Costo" },
                    { title: "Acciones","data": null }

                ],
                "columnDefs": [{
                    "targets": -1,
                    "data": null,
                    "defaultContent": "<button  class='btn btn-secondary' onclick='Alertas()'><i class='fas fa-edit'></i></button> |<button class='btn btn-danger' onclick='Alertas()'><i class='fas fa-times-circle'><i/></button>"
                }
                ]

            });
        });

        function Alertas() {
            swal({
                title: '¿Esta Seguro?',
                text: "Quieres Eliminar Este Cliente: Ruben Batista.",
                type: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Si, Elinarlo'
            }).then((result) => {
                if (result.value) {
                    swal(
                        'Eliminado!',
                        'El Cliente Fue Eliminado Correctamente',
                        'success'
                    )
                }
                else {
                    swal({
                        title: "Cancelar Eliminado",
                        text: "El Cliente No Fue Eliminado",
                        type: "success"
                    });
                }
                });

        }
</script>

}
    
   
